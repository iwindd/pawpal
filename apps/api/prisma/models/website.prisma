model Resource {
  id        String       @id @default(cuid())
  url       String
  type      ResourceType @default(RESOURCE_IMAGE)
  createdAt DateTime     @default(now()) @map("created_at")
  updatedAt DateTime     @updatedAt @map("updated_at")

  user   User   @relation("ResourceUser", fields: [userId], references: [id])
  userId String @map("user_id")

  carousel Carousel[] @relation("CarouselImage")
  products Product[]  @relation("ProductImage")

  @@map("resources")
}

enum ResourceType {
  RESOURCE_IMAGE
  PRODUCT_IMAGE
}

model Carousel {
  id         String         @id @default(cuid())
  title      String
  status     CarouselStatus @default(DRAFT)
  image      Resource       @relation("CarouselImage", fields: [resourceId], references: [id])
  resourceId String         @map("resource_id")

  product   Product? @relation("ProductCarousels", fields: [productId], references: [id])
  productId String?  @map("product_id")

  creator   User   @relation("CarouselCreatedBy", fields: [creatorId], references: [id])
  creatorId String @map("creator_id")

  order     Int      @default(0)
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@map("carousels")
}

enum CarouselStatus {
  DRAFT
  PUBLISHED
  ARCHIVED
}
